{% extends "main/base.html" %}
{% block content %}
<div class="container py-5" style="max-width:600px;">

    <h1 class="mb-4 text-primary">Account Settings (Test)</h1>

    <!-- SETTINGS FORM -->
    <form method="post" action="{% url 'update-settings' %}">
        {% csrf_token %}

        <div class="mb-3">
            <label class="form-label">Profile Visibility:</label><br>
            <input type="radio" name="account_type" value="public"
                   {% if settings and settings.is_public %}checked{% endif %}> Public<br>
            <input type="radio" name="account_type" value="private"
                   {% if settings and not settings.is_public %}checked{% endif %}> Private
        </div>

        <div class="mb-3">
            <label class="form-label">Hide Email:</label>
            <input type="checkbox" name="hide_email"
                   {% if settings and settings.hide_email %}checked{% endif %}>
        </div>

        <button type="submit" class="btn btn-primary">Save Changes</button>
    </form>

    <!-- DEBUG INFO -->
    <hr>
    <h5>Debug Info</h5>
    <p>Username: {{ user.username }}</p>
    <p>Profile Public: {{ settings.is_public }}</p>
    <p>Hide Email: {{ settings.hide_email }}</p>

</div>
{% endblock %}